[[EN]](./README.md)

# Mwifi

此目录下包含 ESP-WIFI-MESH 常见组网方式的示例程序：无路由器、有路由器。

在 ESP-WIFI-MESH 组网中，根节点产生有两种方式：

1. 自动选择根节点：根据空闲节点与路由器的信号强度进行选举自动产生
2. 固定根节点：在代码中固定某个设备为根节点，其余设备为非根节点

根据根节点产生这两种方式，便可简单分为有路由器和无路由器的组网方式。

## 无路由器

当环境中不存在路由器时，我们只能选择固定根节点方式。可参考 [无路由示例程序](./no_router)

## 有路由器

当环境中存在路由器时，我们可以选择两种方式中的任意一种进行组网。在示例中我们使用自动选择根节点方式。根节点的自动选择涉及所有空闲节点之间基于其与路由器的信号强度的选举过程，所以只能在存在路由器的情况下每个空闲节点将通过 Wi-Fi 信标帧发送其 MAC 地址和路由器 RSSI 值。MAC 地址用于唯一地标识网络中的每个节点，而路由器 RSSI 用于指示节点参考路由器的信号强度。可参考 [有路由 TCP 通信示例程序](./router), [有路由 MQTT 通信示例程序](./mqtt_example)

## 性能测试

通过串口输入指令的方式，测试 ESP-WIFI-MESH 吞吐量 、网络配置 、发包时延等。可参考 [性能测试示例程序](./console_test)
